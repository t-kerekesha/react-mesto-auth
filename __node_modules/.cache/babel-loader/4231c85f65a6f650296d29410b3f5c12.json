{"ast":null,"code":"import _classCallCheck from\"C:/Users/kti/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/kti/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/kti/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/kti/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/kti/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Tooltip from\"./Tooltip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Card=/*#__PURE__*/function(_React$Component){_inherits(Card,_React$Component);var _super=_createSuper(Card);function Card(props){var _this;_classCallCheck(this,Card);_this=_super.call(this,props);_this.handleCardClick=_this.handleCardClick.bind(_assertThisInitialized(_this));_this.openTooltip=_this.openTooltip.bind(_assertThisInitialized(_this));_this.closeTooltip=_this.closeTooltip.bind(_assertThisInitialized(_this));_this.state={like:false,isOpenTooltip:false,likes:[],positionTooltip:{}};return _this;}_createClass(Card,[{key:\"handleCardClick\",value:function handleCardClick(card){this.props.onCardClick(card);}},{key:\"openTooltip\",value:function openTooltip(_ref){var likes=_ref.likes,top=_ref.top,left=_ref.left;this.setState({isOpenTooltip:true,likes:likes,positionTooltip:{top:top,left:left}});}},{key:\"closeTooltip\",value:function closeTooltip(){this.setState({isOpenTooltip:false});}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[this.props.cards.map(function(card,i){return/*#__PURE__*/_jsx(\"li\",{className:\"gallery__list-item\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card__aspect-ratio\",children:/*#__PURE__*/_jsx(\"img\",{src:card.link,className:\"card__image\",alt:card.name,onClick:function onClick(){_this2.handleCardClick(card);}})}),/*#__PURE__*/_jsx(\"button\",{className:\"card__delete-button button\",type:\"button\",\"aria-label\":\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsxs(\"figcaption\",{className:\"card__container-caption\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"card__caption\",children:card.name}),/*#__PURE__*/_jsx(\"button\",{className:\"card__like-button\",type:\"button\",\"aria-label\":\"\\u041B\\u0430\\u0439\\u043A\",onMouseEnter:function onMouseEnter(event){if(card.likes.length>0){_this2.openTooltip({likes:card.likes,top:event.pageY,left:event.pageX});}},onMouseLeave:_this2.closeTooltip}),/*#__PURE__*/_jsx(\"p\",{className:\"card__like-counter\",children:card.likes.length})]})]})},card._id);}),this.state.isOpenTooltip&&/*#__PURE__*/_jsx(Tooltip,{isOpen:this.state.isOpenTooltip,likes:this.state.likes,position:this.state.positionTooltip})]});}}]);return Card;}(React.Component);export default Card;","map":{"version":3,"names":["React","Tooltip","Card","props","handleCardClick","bind","openTooltip","closeTooltip","state","like","isOpenTooltip","likes","positionTooltip","card","onCardClick","top","left","setState","cards","map","i","link","name","event","length","pageY","pageX","_id","Component"],"sources":["C:/Users/kti/dev/mesto-react/src/components/Card.js"],"sourcesContent":["import React from \"react\";\nimport Tooltip from \"./Tooltip\";\n\nclass Card extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleCardClick = this.handleCardClick.bind(this);\n    this.openTooltip = this.openTooltip.bind(this);\n    this.closeTooltip = this.closeTooltip.bind(this);\n    this.state = {\n      like: false,\n      isOpenTooltip: false,\n      likes: [],\n      positionTooltip: {}\n    };\n  }\n\n  handleCardClick(card) {\n    this.props.onCardClick(card);\n  }\n\n  openTooltip({ likes, top, left }) {\n    this.setState({\n      isOpenTooltip: true,\n      likes: likes,\n      positionTooltip: {\n        top: top,\n        left: left\n      }\n    });\n  }\n\n  closeTooltip() {\n    this.setState({ isOpenTooltip: false});\n  }\n\n  render() {\n    return (\n      <>\n      {this.props.cards.map((card, i) => (\n        <li key={card._id} className=\"gallery__list-item\">\n          <figure className=\"card\">\n            <div className=\"card__aspect-ratio\">\n              <img src={card.link}\n                className=\"card__image\"\n                alt={card.name}\n                onClick={() => {\n                  this.handleCardClick(card);\n                }}\n              />\n            </div>\n            <button className=\"card__delete-button button\"\n              type=\"button\"\n              aria-label=\"Удалить\">\n            </button>\n            <figcaption className=\"card__container-caption\">\n              <h2 className=\"card__caption\">\n                {card.name}\n              </h2>\n              <button className=\"card__like-button\"\n                type=\"button\"\n                aria-label=\"Лайк\"\n                onMouseEnter={(event) => {\n                  if(card.likes.length > 0) {\n                    this.openTooltip({\n                      likes: card.likes,\n                      top: event.pageY,\n                      left: event.pageX\n                    })\n                  }\n                }}\n                onMouseLeave={this.closeTooltip} >\n              </button>\n              <p className=\"card__like-counter\">\n                {card.likes.length}\n              </p>\n            </figcaption>\n          </figure>\n        </li>\n      ))}\n\n      {this.state.isOpenTooltip &&\n        <Tooltip\n          isOpen={this.state.isOpenTooltip}\n          likes={this.state.likes}\n          position={this.state.positionTooltip} />\n      }\n      </>\n    );\n  }\n}\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}